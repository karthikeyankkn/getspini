!function(a,b,c){"use strict";function d(c){if(i=b.documentElement,j=b.body,S(),sb=this,c=c||{},zb=c.constants||{},c.easing)for(var d in c.easing)V[d]=c.easing[d];Nb=c.edgeStrategy||"set",vb={beforerender:c.beforerender,render:c.render},wb=c.forceHeight!==!1,wb&&(yb=c.scale||1),Ab=c.mobileDeceleration||y,Ib=c.smoothScrolling!==!1,Jb=c.smoothScrollingDuration||z,Kb={targetTop:sb.getScrollTop()},Ob=(c.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||a.opera)})(),Ob?(ub=b.getElementById("skrollr-body"),ub&&fb(),W(),nb(i,[s,v],[t])):nb(i,[s,u],[t]),sb.refresh(),gb(a,"resize orientationchange",function(){var a=i.clientWidth,b=i.clientHeight;(b!==Fb||a!==Eb)&&(Fb=b,Eb=a,Gb=!0)});var e=T();return function f(){Z(),Sb=e(f)}(),sb}var i,j,e={get:function(){return sb},init:function(a){return sb||new d(a)},VERSION:"0.6.22"},f=Object.prototype.hasOwnProperty,g=a.Math,h=a.getComputedStyle,k="touchstart",l="touchmove",m="touchcancel",n="touchend",o="skrollable",p=o+"-before",q=o+"-between",r=o+"-after",s="skrollr",t="no-"+s,u=s+"-desktop",v=s+"-mobile",w="linear",x=1e3,y=.004,z=200,A="start",B="end",C="center",D="bottom",E="___skrollable_id",F=/^(?:input|textarea|button|select)$/i,G=/^\s+|\s+$/g,H=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,I=/\s*([\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,J=/^([a-z\-]+)\[(\w+)\]$/,K=/-([a-z])/g,L=function(a,b){return b.toUpperCase()},M=/[\-+]?[\d]*\.?[\d]+/g,N=/\{\?\}/g,O=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,P=/[a-z\-]+-gradient/g,Q="",R="",S=function(){var a=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(h){var b=h(j,null);for(var c in b)if(Q=c.match(a)||+c==c&&b[c].match(a))break;if(!Q)return void(Q=R="");Q=Q[0],"-"===Q.slice(0,1)?(R=Q,Q={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[Q]):R="-"+Q.toLowerCase()+"-"}},T=function(){var b=a.requestAnimationFrame||a[Q.toLowerCase()+"RequestAnimationFrame"],c=qb();return(Ob||!b)&&(b=function(b){var d=qb()-c,e=g.max(0,1e3/60-d);return a.setTimeout(function(){c=qb(),b()},e)}),b},U=function(){var b=a.cancelAnimationFrame||a[Q.toLowerCase()+"CancelAnimationFrame"];return(Ob||!b)&&(b=function(b){return a.clearTimeout(b)}),b},V={begin:function(){return 0},end:function(){return 1},linear:function(a){return a},quadratic:function(a){return a*a},cubic:function(a){return a*a*a},swing:function(a){return-g.cos(a*g.PI)/2+.5},sqrt:function(a){return g.sqrt(a)},outCubic:function(a){return g.pow(a-1,3)+1},bounce:function(a){var b;if(a<=.5083)b=3;else if(a<=.8489)b=9;else if(a<=.96208)b=27;else{if(!(a<=.99981))return 1;b=91}return 1-g.abs(3*g.cos(a*b*1.028)/b)}};d.prototype.refresh=function(a){var d,e,f=!1;for(a===c?(f=!0,tb=[],Mb=0,a=b.getElementsByTagName("*")):a.length===c&&(a=[a]),d=0,e=a.length;d<e;d++){var g=a[d],h=g,i=[],j=Ib,k=Nb;if(g.attributes){for(var l=0,m=g.attributes.length;l<m;l++){var n=g.attributes[l];if("data-anchor-target"!==n.name)if("data-smooth-scrolling"!==n.name)if("data-edge-strategy"!==n.name){var p=n.name.match(H);if(null!==p){var q={props:n.value,element:g};i.push(q);var r=p[1];r&&(q.constant=r.substr(1));var s=p[2];/p$/.test(s)?(q.isPercentage=!0,q.offset=(0|s.slice(0,-1))/100):q.offset=0|s;var t=p[3],u=p[4]||t;t&&t!==A&&t!==B?(q.mode="relative",q.anchors=[t,u]):(q.mode="absolute",t===B?q.isEnd=!0:q.isPercentage||(q.offset=q.offset*yb))}}else k=n.value;else j="off"!==n.value;else if(h=b.querySelector(n.value),null===h)throw'Unable to find anchor target "'+n.value+'"'}if(i.length){var v,w,x;!f&&E in g?(x=g[E],v=tb[x].styleAttr,w=tb[x].classAttr):(x=g[E]=Mb++,v=g.style.cssText,w=mb(g)),tb[x]={element:g,styleAttr:v,classAttr:w,anchorTarget:h,keyFrames:i,smoothScrolling:j,edgeStrategy:k},nb(g,[o],[])}}}for(jb(),d=0,e=a.length;d<e;d++){var y=tb[a[d][E]];y!==c&&($(y),ab(y))}return sb},d.prototype.relativeToAbsolute=function(a,b,c){var d=i.clientHeight,e=a.getBoundingClientRect(),f=e.top,g=e.bottom-e.top;return b===D?f-=d:b===C&&(f-=d/2),c===D?f+=g:c===C&&(f+=g/2),f+=sb.getScrollTop(),f+.5|0},d.prototype.animateTo=function(a,b){b=b||{};var d=qb(),e=sb.getScrollTop();return Hb={startTop:e,topDiff:a-e,targetTop:a,duration:b.duration||x,startTime:d,endTime:d+(b.duration||x),easing:V[b.easing||w],done:b.done},Hb.topDiff||(Hb.done&&Hb.done.call(sb,!1),Hb=c),sb},d.prototype.stopAnimateTo=function(){Hb&&Hb.done&&Hb.done.call(sb,!0),Hb=c},d.prototype.isAnimatingTo=function(){return!!Hb},d.prototype.setScrollTop=function(b,c){return Lb=c===!0,Ob?Pb=g.min(g.max(b,0),xb):a.scrollTo(0,b),sb},d.prototype.getScrollTop=function(){return Ob?Pb:a.pageYOffset||i.scrollTop||j.scrollTop||0},d.prototype.getMaxScrollTop=function(){return xb},d.prototype.on=function(a,b){return vb[a]=b,sb},d.prototype.off=function(a){return delete vb[a],sb},d.prototype.destroy=function(){var a=U();a(Sb),ib(),nb(i,[t],[s,u,v]);for(var b=0,d=tb.length;b<d;b++)eb(tb[b].element);i.style.overflow=j.style.overflow="auto",i.style.height=j.style.height="auto",ub&&e.setStyle(ub,"transform","none"),sb=c,ub=c,vb=c,wb=c,xb=0,yb=1,zb=c,Ab=c,Bb="down",Cb=-1,Eb=0,Fb=0,Gb=!1,Hb=c,Ib=c,Jb=c,Kb=c,Lb=c,Mb=0,Nb=c,Ob=!1,Pb=0,Qb=c};var W=function(){var d,e,f,h,o,p,q,r,s,t,u,v;gb(i,[k,l,m,n].join(" "),function(a){var i=a.changedTouches[0];for(h=a.target;3===h.nodeType;)h=h.parentNode;switch(o=i.clientY,p=i.clientX,t=a.timeStamp,F.test(h.tagName)||a.preventDefault(),a.type){case k:d&&d.blur(),sb.stopAnimateTo(),d=h,e=q=o,f=p,s=t;break;case l:F.test(h.tagName)&&b.activeElement!==h&&a.preventDefault(),r=o-q,v=t-u,sb.setScrollTop(Pb-r,!0),q=o,u=t;break;default:case m:case n:var j=e-o,w=f-p,x=w*w+j*j;if(x<49){if(!F.test(d.tagName)){d.focus();var y=b.createEvent("MouseEvents");y.initMouseEvent("click",!0,!0,a.view,1,i.screenX,i.screenY,i.clientX,i.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),d.dispatchEvent(y)}return}d=c;var z=r/v;z=g.max(g.min(z,3),-3);var A=g.abs(z/Ab),B=z*A+.5*Ab*A*A,C=sb.getScrollTop()-B,D=0;C>xb?(D=(xb-C)/B,C=xb):C<0&&(D=-C/B,C=0),A*=1-D,sb.animateTo(C+.5|0,{easing:"outCubic",duration:A})}}),a.scrollTo(0,0),i.style.overflow=j.style.overflow="hidden"},X=function(){var c,d,e,f,h,j,k,l,m,n,o,a=i.clientHeight,b=kb();for(l=0,m=tb.length;l<m;l++)for(c=tb[l],d=c.element,e=c.anchorTarget,f=c.keyFrames,h=0,j=f.length;h<j;h++)k=f[h],n=k.offset,o=b[k.constant]||0,k.frame=n,k.isPercentage&&(n*=a,k.frame=n),"relative"===k.mode&&(eb(d),k.frame=sb.relativeToAbsolute(e,k.anchors[0],k.anchors[1])-n,eb(d,!0)),k.frame+=o,wb&&!k.isEnd&&k.frame>xb&&(xb=k.frame);for(xb=g.max(xb,lb()),l=0,m=tb.length;l<m;l++){for(c=tb[l],f=c.keyFrames,h=0,j=f.length;h<j;h++)k=f[h],o=b[k.constant]||0,k.isEnd&&(k.frame=xb-k.offset+o);c.keyFrames.sort(rb)}},Y=function(a,b){for(var c=0,d=tb.length;c<d;c++){var t,u,g=tb[c],h=g.element,i=g.smoothScrolling?a:b,j=g.keyFrames,k=j[0].frame,l=j[j.length-1].frame,m=i<k,n=i>l,s=j[m?0:j.length-1];if(m||n){if(m&&-1===g.edge||n&&1===g.edge)continue;switch(nb(h,[m?p:r],[p,q,r]),g.edge=m?-1:1,g.edgeStrategy){case"reset":eb(h);continue;case"ease":i=s.frame;break;default:case"set":var v=s.props;for(t in v)f.call(v,t)&&(u=db(v[t].value),e.setStyle(h,t,u));continue}}else 0!==g.edge&&(nb(h,[o,q],[p,r]),g.edge=0);for(var w=0,x=j.length-1;w<x;w++)if(i>=j[w].frame&&i<=j[w+1].frame){var y=j[w],z=j[w+1];for(t in y.props)if(f.call(y.props,t)){var A=(i-y.frame)/(z.frame-y.frame);A=y.props[t].easing(A),u=cb(y.props[t].value,z.props[t].value,A),u=db(u),e.setStyle(h,t,u)}break}}},Z=function(){Gb&&(Gb=!1,jb());var b,f,a=sb.getScrollTop(),d=qb();if(Hb)d>=Hb.endTime?(a=Hb.targetTop,b=Hb.done,Hb=c):(f=Hb.easing((d-Hb.startTime)/Hb.duration),a=Hb.startTop+f*Hb.topDiff|0),sb.setScrollTop(a,!0);else if(!Lb){var g=Kb.targetTop-a;g&&(Kb={startTop:Cb,topDiff:a-Cb,targetTop:a,startTime:Db,endTime:Db+Jb}),d<=Kb.endTime&&(f=V.sqrt((d-Kb.startTime)/Jb),a=Kb.startTop+f*Kb.topDiff|0)}if(Ob&&ub&&e.setStyle(ub,"transform","translate(0, "+-Pb+"px) "+Qb),Lb||Cb!==a){Bb=a>Cb?"down":a<Cb?"up":Bb,Lb=!1;var h={curTop:a,lastTop:Cb,maxTop:xb,direction:Bb},i=vb.beforerender&&vb.beforerender.call(sb,h);i!==!1&&(Y(a,sb.getScrollTop()),Cb=a,vb.render&&vb.render.call(sb,h)),b&&b.call(sb,!1)}Db=d},$=function(a){for(var b=0,c=a.keyFrames.length;b<c;b++){for(var e,f,g,i,d=a.keyFrames[b],h={};null!==(i=I.exec(d.props));)g=i[1],f=i[2],e=g.match(J),null!==e?(g=e[1],e=e[2]):e=w,f=f.indexOf("!")?_(f):[f.slice(1)],h[g]={value:f,easing:V[e]};d.props=h}},_=function(a){var b=[];return O.lastIndex=0,a=a.replace(O,function(a){return a.replace(M,function(a){return a/255*100+"%"})}),R&&(P.lastIndex=0,a=a.replace(P,function(a){return R+a})),a=a.replace(M,function(a){return b.push(+a),"{?}"}),b.unshift(a),b},ab=function(a){var c,d,b={};for(c=0,d=a.keyFrames.length;c<d;c++)bb(a.keyFrames[c],b);for(b={},c=a.keyFrames.length-1;c>=0;c--)bb(a.keyFrames[c],b)},bb=function(a,b){var c;for(c in b)f.call(a.props,c)||(a.props[c]=b[c]);for(c in a.props)b[c]=a.props[c]},cb=function(a,b,c){var d,e=a.length;if(e!==b.length)throw"Can't interpolate between \""+a[0]+'" and "'+b[0]+'"';var f=[a[0]];for(d=1;d<e;d++)f[d]=a[d]+(b[d]-a[d])*c;return f},db=function(a){var b=1;return N.lastIndex=0,a[0].replace(N,function(){return a[b++]})},eb=function(a,b){a=[].concat(a);for(var c,d,e=0,f=a.length;e<f;e++)d=a[e],c=tb[d[E]],c&&(b?(d.style.cssText=c.dirtyStyleAttr,nb(d,c.dirtyClassAttr)):(c.dirtyStyleAttr=d.style.cssText,c.dirtyClassAttr=mb(d),d.style.cssText=c.styleAttr,nb(d,c.classAttr)))},fb=function(){Qb="translateZ(0)",e.setStyle(ub,"transform",Qb);var a=h(ub),b=a.getPropertyValue("transform"),c=a.getPropertyValue(R+"transform"),d=b&&"none"!==b||c&&"none"!==c;d||(Qb="")};e.setStyle=function(a,b,c){var d=a.style;if(b=b.replace(K,L).replace("-",""),"zIndex"===b)d[b]=isNaN(c)?c:""+(0|c);else if("float"===b)d.styleFloat=d.cssFloat=c;else try{Q&&(d[Q+b.slice(0,1).toUpperCase()+b.slice(1)]=c),d[b]=c}catch(e){}};var sb,tb,ub,vb,wb,zb,Ab,Hb,Ib,Jb,Kb,Lb,Nb,Qb,Sb,gb=e.addEvent=function(b,c,d){var e=function(b){return b=b||a.event,b.target||(b.target=b.srcElement),b.preventDefault||(b.preventDefault=function(){b.returnValue=!1,b.defaultPrevented=!0}),d.call(this,b)};c=c.split(" ");for(var f,g=0,h=c.length;g<h;g++)f=c[g],b.addEventListener?b.addEventListener(f,d,!1):b.attachEvent("on"+f,e),Rb.push({element:b,name:f,listener:d})},hb=e.removeEvent=function(a,b,c){b=b.split(" ");for(var d=0,e=b.length;d<e;d++)a.removeEventListener?a.removeEventListener(b[d],c,!1):a.detachEvent("on"+b[d],c)},ib=function(){for(var a,b=0,c=Rb.length;b<c;b++)a=Rb[b],hb(a.element,a.name,a.listener);Rb=[]},jb=function(){var a=sb.getScrollTop();xb=0,wb&&!Ob&&(j.style.height="auto"),X(),wb&&!Ob&&(j.style.height=xb+i.clientHeight+"px"),Ob?sb.setScrollTop(g.min(sb.getScrollTop(),xb)):sb.setScrollTop(a,!0),Lb=!0},kb=function(){var c,d,a=i.clientHeight,b={};for(c in zb)d=zb[c],"function"===typeof d?d=d.call(sb):/p$/.test(d)&&(d=d.slice(0,-1)/100*a),b[c]=d;return b},lb=function(){var a=ub&&ub.offsetHeight||0,b=g.max(a,j.scrollHeight,j.offsetHeight,i.scrollHeight,i.offsetHeight,i.clientHeight);return b-i.clientHeight},mb=function(b){var c="className";return a.SVGElement&&b instanceof a.SVGElement&&(b=b[c],c="baseVal"),b[c]},nb=function(b,d,e){var f="className";if(a.SVGElement&&b instanceof a.SVGElement&&(b=b[f],f="baseVal"),e===c)return void(b[f]=d);for(var g=b[f],h=0,i=e.length;h<i;h++)g=pb(g).replace(pb(e[h])," ");g=ob(g);for(var j=0,k=d.length;j<k;j++)-1===pb(g).indexOf(pb(d[j]))&&(g+=" "+d[j]);b[f]=ob(g)},ob=function(a){return a.replace(G,"")},pb=function(a){return" "+a+" "},qb=Date.now||function(){return+new Date},rb=function(a,b){return a.frame-b.frame},xb=0,yb=1,Bb="down",Cb=-1,Db=qb(),Eb=0,Fb=0,Gb=!1,Mb=0,Ob=!1,Pb=0,Rb=[];"function"===typeof define&&define.amd?define("skrollr",function(){return e}):a.skrollr=e}(window,document);